function ftp_upload_events(){0!=$("body#ftp-upload-page").length&&(ftp_upload_get_dir(""),$("#btn-upload-ftp").on("click",function(){var e=this,p={folder:$("#popup-upload-ftp-folder").html(),file:$("#popup-upload-ftp-name").html()};$(this).hasClass("disabled")||($(this).addClass("disabled"),$.ajax({url:ADMIN_PATH+"/ftpu-upload",data:p,success:function(p){var a;"ok"==p.upload.response?(a=$("#popup-upload-ftp-id-file").val(),$(".upload-ftp-dir-content").find('.ftp-file[id-file="'+a+'"]').removeClass("warning no-existe"),$("#popup-upload-ftp").removeClass("active"),show_info("Completo",p.upload.mensaje)):show_info("Uups",p.upload.mensaje),$(e).removeClass("disabled")}}))}),$("#btn-upload-ftp-create").on("click",function(){var e=this,p={folder:$("#popup-upload-ftp-create-folder").html(),name:$("#popup-upload-ftp-create-name").html()};$(this).hasClass("disabled")||($(this).addClass("disabled"),$.ajax({url:ADMIN_PATH+"/ftpu-create-folder",data:p,success:function(p){var a;"ok"==p.folder.response?(a=$("#popup-upload-ftp-create-id-folder").val(),$(".upload-ftp-dir-content").find('.ftp-dir[id-folder="'+a+'"]').removeClass("no-existe"),$("#popup-upload-ftp-create").removeClass("active"),show_info("Completo",p.folder.mensaje)):show_info("Uups",p.folder.mensaje),$(e).removeClass("disabled")}}))}),$("#btn-upload-ftp-comparar").on("click",function(){var e=this,p={folder:$("#popup-upload-ftp-folder").html(),file:$("#popup-upload-ftp-name").html()};$(this).hasClass("disabled")||($(this).addClass("disabled"),$.ajax({url:ADMIN_PATH+"/ftpu-compare",data:p,success:function(p){var a;"ok"==p.compare.response?(a=$("#popup-upload-ftp-comparar .content").height()-150,$("#popup-upload-ftp-comparar").find("textarea").css("height",a),$("#popup-upload-ftp-comparar-code-server").val(p.compare.code_server),$("#popup-upload-ftp-comparar-code-ftp").val(p.compare.code_ftp),$("#popup-upload-ftp").removeClass("active"),$("#popup-upload-ftp-comparar").addClass("active")):show_info("Uups",p.compare.mensaje),$(e).removeClass("disabled")}}))}),$("#btn-upload-ftp-close").on("click",function(){$("#popup-upload-ftp").removeClass("active")}),$("#btn-upload-ftp-create-close").on("click",function(){$("#popup-upload-ftp-create").removeClass("active")}),$("#btn-upload-ftp-comparar-close").on("click",function(){$("#popup-upload-ftp-comparar").removeClass("active"),$("#popup-upload-ftp").addClass("active")}))}function ftp_upload_get_dir(p){p={dir:p};$.ajax({url:ADMIN_PATH+"/ftpu-get-dir",data:p,success:function(p){"ok"==p.get_dir.response?($(".upload-ftp-dir-content").html(p.get_dir.html),$(".ftp-dir").on("click",function(){var p,a,e;$(this).hasClass("disabled")||(p=$(".folder").attr("folder"),e=$(this).attr("name"),$(this).hasClass("no-existe")?(a=$(this).attr("id-folder"),$("#popup-upload-ftp-create-id-folder").val(a),$("#popup-upload-ftp-create-folder").html(p),$("#popup-upload-ftp-create-name").html(e),$("#popup-upload-ftp-create").addClass("active")):(e=p+"/"+e,$(".ftp-dir").addClass("disabled"),$(".ftp-file").addClass("disabled"),ftp_upload_get_dir(e)))}),$(".ftp-file").on("click",function(){var p,a,e,o,t;$(this).hasClass("disabled")||(p=$(this).attr("id-file"),a=$(".folder").attr("folder"),e=$(this).find(".name").attr("name"),o=$(this).find(".size").attr("size"),t=$(this).find(".size").attr("ftp_size"),$("#popup-upload-ftp-id-file").val(p),$("#popup-upload-ftp-folder").html(a),$("#popup-upload-ftp-name").html(e),$("#popup-upload-ftp-size").html(o+" Kb"),-1==t?($("#popup-upload-ftp-ftp-size").html("No existe"),$("#btn-upload-ftp-comparar").addClass("hidden")):($("#popup-upload-ftp-ftp-size").html(t+" Kb"),$("#btn-upload-ftp-comparar").removeClass("hidden")),$("#popup-upload-ftp").addClass("active"))})):($(".ftp-dir").removeClass("disabled active"),$(".ftp-file").removeClass("disabled"),show_info("Uups",p.get_dir.mensaje))}})}$(window).ready(function(){ftp_upload_events()});