var _loading=!1;function init(){$.ajaxSetup({type:"POST",dataType:"json",error:function(){show_info("Error","An unexpected error has occurred.<br>Reload the page to try again."),_loading=!1}}),$("#hive-slider-example").slick({dots:!0,autoplay:!0,autoplaySpeed:2e3,infinite:!0,slidesToShow:1,slidesToScroll:1})}function events(){$("#btn-ajax-call").on("click",function(){var s=this;$(this).hasClass("disabled")||($(this).addClass("disabled"),_loading=!0,$.ajax({url:PUBLIC_PATH+"/prueba",data:{dato:!0},success:function(e){show_info("OK",JSON.stringify(e.prueba)),$(s).removeClass("disabled"),_loading=!1}}))}),$("#btn-acepta-cookies").on("click",function(){var s=this;$(this).hasClass("disabled")||($(this).addClass("disabled"),_loading=!0,$.ajax({url:PUBLIC_PATH+"/set-cookies",data:{dato:!0},success:function(e){"ok"==e.cookie.response?$("#popup-cookies").removeClass("active"):$(s).removeClass("disabled"),_loading=!1}}))}),$("#btn-send-newsletter").on("click",function(){var s=this,e={email:$("#input-send-newsletter").val().trim()};$(".newsletter-content *").removeClass("error"),validar("email",e.email)||$("#input-send-newsletter").addClass("error"),null==$("#checkbox-send-newsletter:checked").val()&&$("#checkbox-send-newsletter").addClass("error"),$(this).hasClass("disabled")||0!=$(".newsletter-content .error").length||($(this).addClass("disabled"),_loading=!0,$.ajax({url:PUBLIC_PATH+"/save-newsletter",data:e,success:function(e){"ok"==e.newsletter.response?show_info(e.newsletter.title,e.newsletter.description):$(s).removeClass("disabled"),_loading=!1}}))}),$("#btn-send-login").on("click",function(){var s=this,e={email:$("#input-login-email").val().trim(),pass:$("#input-login-pass").val().trim(),remember:null==$("#checkbox-login-remember:checked").val()?0:1};$(".login-content *").removeClass("error"),validar("email",e.email)||$("#input-login-email").addClass("error"),(""==e.pass||e.pass.length<8)&&$("#input-login-pass").addClass("error"),$(this).hasClass("disabled")||0!=$(".login-content .error").length||($(this).addClass("disabled"),_loading=!0,$.ajax({url:PUBLIC_PATH+"/login-send",data:e,success:function(e){"ok"==e.login.response?window.location.href=PUBLIC_PATH+"/home?login":(show_info("Uups",e.login.mensaje),$(s).removeClass("disabled"),_loading=!1)}}))}),$("#btn-send-register").on("click",function(){var s=this,e={email:$("#input-register-email").val().trim(),name:$("#input-register-name").val().trim(),lastname:$("#input-register-lastname").val().trim(),pass1:$("#input-register-pass-1").val().trim(),pass2:$("#input-register-pass-2").val().trim(),newsletter:null==$("#checkbox-register-newsletter:checked").val()?0:1};$(".register-content *").removeClass("error"),validar("email",e.email)||$("#input-register-email").addClass("error"),validar("nombre",e.name)||$("#input-register-name").addClass("error"),validar("nombre",e.lastname)||$("#input-register-lastname").addClass("error"),(""==e.pass1||e.pass1.length<8)&&$("#input-register-pass-1").addClass("error"),(""==e.pass2||e.pass2.length<8)&&$("#input-register-pass-2").addClass("error"),e.pass1!=e.pass2&&$("#input-register-pass-2").addClass("error"),null==$("#checkbox-register-accept:checked").val()&&$("#checkbox-register-accept").addClass("error"),$(this).hasClass("disabled")||0!=$(".register-content .error").length||($(this).addClass("disabled"),_loading=!0,$.ajax({url:PUBLIC_PATH+"/register-send",data:e,success:function(e){"ok"==e.register.response?window.location.href=PUBLIC_PATH+"/home?register":(show_info("Uups",e.register.mensaje),$(s).removeClass("disabled"),_loading=!1)}}))})}function scroll(){var s=$(window).scrollTop(),a=$("#popup-loading").height();a+350<=a+s?$("header").addClass("float"):$("header").removeClass("float"),a/2<s?$("#back-top").fadeIn():$("#back-top").fadeOut(),$(".animate").each(function(){var e=!1;$(this).offset().top+$(this).height()<=a+s&&$(this).offset().top+$(this).height()>=s&&!$(this).hasClass("active")&&(e=!0),$(this).offset().top+10<=a+s&&$(this).offset().top+10>=s&&!$(this).hasClass("active")&&(e=!0),$(this).offset().top+$(this).height()>a+s&&$(this).offset().top<s&&(e=!0),e&&$(this).addClass("active")})}$(window).ready(function(){init(),events(),scroll()}),$(window).scroll(function(){scroll()});